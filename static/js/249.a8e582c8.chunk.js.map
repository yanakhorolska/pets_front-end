{"version":3,"file":"static/js/249.a8e582c8.chunk.js","mappings":"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","sources":["components/UserAvatar/UserAvatar.styled.js","components/UserAvatar/UserAvatar.jsx","components/UserDataItem/UserDataItem.jsx","components/UserData/UserData.jsx","components/LogoutButton/LogoutButton.jsx","components/PetsList/PetsList.jsx","components/PetsData/PetsData.js","pages/UserPage/UserPage.jsx"],"sourcesContent":["import styled from 'styled-components';\n\nexport const AvatarInput = styled(\"input\")`\nopacity: 0;\n  visibility: hidden;\n  position: absolute;\n`\nexport const AvatarLabel = styled(\"label\")`\ncolor: ${p => p.theme.color.navBarText};\nfont-size: 12px;\n\n  align-items: center;\n  margin-top: 12px;\n  margin-bottom: 36px;\n  padding: 0;\n  cursor: pointer;\n \n`\nexport const AvatarImage = styled(\"img\")`\nborder-radius: 50%;\n`\n","import React from 'react';\nimport { useSelector } from 'react-redux';\nimport { getUserAvatarURL } from 'redux/selectors';\nimport { useUpdateUserAvatarMutation } from '../../redux/fetchUser';\nimport { useDispatch } from 'react-redux';\nimport { setAvatarURL } from '../../redux/authSlice';\nimport { AvatarInput, AvatarLabel, AvatarImage } from './UserAvatar.styled';\nimport Icon from '../../styles/Buttons/icons';\n\nconst UserAvatar = () => {\n  const dispatch = useDispatch();\n  const avatarURL = useSelector(getUserAvatarURL);\n\n  // const dispatch = useDispatch();\n  const [updateUserAvatar] = useUpdateUserAvatarMutation();\n\n  const handleAvatarChange = async event => {\n    try {\n      const file = event.target.files[0];\n      const newAvatarURL = await updateUserAvatar(file).unwrap();\n      dispatch(setAvatarURL(newAvatarURL.avatarURL));\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  return (\n    <div>\n      <AvatarImage src={avatarURL} alt=\"User\" />\n\n    \n        <AvatarLabel htmlFor=\"avatar-upload\">\n          <Icon.Camera /> Edit photo</AvatarLabel>\n        <AvatarInput\n          name=\"avatar\"\n          id=\"avatar-upload\"\n          type=\"file\"\n          accept=\"image/*\"\n          // placeholder='Put the file'\n          onChange={e => handleAvatarChange(e)}\n        />\n      \n    </div>\n  );\n};\n\nexport default UserAvatar;\n","import React from 'react'\nimport { Formik, Form, Field } from 'formik'\nimport { useState } from 'react'\nimport { useDispatch } from 'react-redux'\nimport { useUpdateUserMutation } from '../../redux/fetchUser';\nimport { setUpdatedUser } from 'redux/authSlice';\n// import { getToken } from 'redux/selectors';\n\nconst UserDataItem = ({ initialValues, name, value }) => {\n  const [disabled, setDisabled] = useState(true);\n  \n  const dispatch = useDispatch();\n\n  const [updateUser] = useUpdateUserMutation();\n\n  const handleSubmit = async values => {\n  try {\n      if (!disabled);\n    const user = await updateUser({values}).unwrap();\n      dispatch(setUpdatedUser(user));\n      console.log(\"User after update\", user)\n      \n    }\n    catch (error) {\n      console.log(error)\n    }\n    \n  };\n  \n  return (\n    <Formik initialValues={initialValues} onSubmit={handleSubmit}>\n      <Form>\n        <label>{name}: </label>\n        <Field type=\"text\" name={name} disabled={disabled} ></Field>\n        <button type=\"button\" onClick={() => setDisabled(!disabled)} >Edit</button>\n        <button type=\"submit\" disabled={disabled}>Submit</button>       \n        \n      </Form>\n      \n</Formik>\n    \n  )\n}\n\nexport default UserDataItem","import React from 'react'\nimport UserAvatar from \"../UserAvatar/UserAvatar\"\nimport UserDataItem from 'components/UserDataItem/UserDataItem'\nimport { getUser, getToken } from 'redux/selectors';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { useGetUserQuery } from '../../redux/authApi';\nimport { setUser } from '../../redux/authSlice';\nimport { useEffect } from 'react';\n\nconst UserData = () => {\n const token = useSelector(getToken);\n//  console.log(token)\n  const dispatch = useDispatch();\n  \n  const { data, isLoading } = useGetUserQuery(token);\n  \n\n const user = {...data, token}\nconsole.log(\"data from back\", user)\n  useEffect(() => {\n    if (!isLoading) {\n      dispatch(setUser(user, token), []);\n    }\n  });\n\n  const currentuser = useSelector(getUser)\n  \n  console.log(\"USER IN USERState\", currentuser )\n\n  return (\n      <div>\n          <p>My Information</p>\n      <UserAvatar />\n      <UserDataItem initialValues={{ name: currentuser.name }} name=\"name\" value={currentuser.name} />\n      <UserDataItem initialValues={{ email: currentuser.email }} name=\"email\" value={currentuser.email} />\n      <UserDataItem initialValues={{ birthday: currentuser.birthday }} name=\"birthday\" value={currentuser.birthday} />\n      <UserDataItem initialValues={{ city: currentuser.city }} name=\"city\" value={currentuser.city} />\n      <UserDataItem initialValues={{ phone: currentuser.phone }} name=\"phone\" value={currentuser.phone} />\n    </div>\n  )\n}\n\nexport default UserData","import { useLogOutMutation } from '../../redux/fetchUser'\nimport {setLogoutUser} from '../../redux/authSlice'\n\nimport React from 'react'\nimport { useDispatch, useSelector } from 'react-redux';\nimport { getToken } from 'redux/selectors';\n\nfunction LogoutButton() {\n    const token = useSelector(getToken)\n    const [logout, { isLoading }] = useLogOutMutation(token);\n    const dispatch = useDispatch()\n\n  const handleLogoutClick = () => {\n      logout(token);\n      dispatch(setLogoutUser())\n      \n  };\n\n  return (\n    <button onClick={handleLogoutClick} disabled={isLoading}>\n      Logout\n    </button>\n  );\n}\n\nexport default LogoutButton","import React from 'react'\n\nconst PetsList = () => {\n  return (\n    <div>PetsLIst</div>\n  )\n}\n\nexport default PetsList","import React from 'react'\nimport PetsList from \"../PetsList/PetsList.jsx\"\n\nconst PetsData = () => {\n  return (\n      <div>\n          <p>My Pets</p>\n          PetsData\n          <PetsList />\n      </div>\n  )\n}\n\nexport default PetsData","import UserData from 'components/UserData/UserData';\nimport LogoutButton from \"components/LogoutButton/LogoutButton\"\nimport  PetsData from \"components/PetsData/PetsData\"\n\n\nconst UserPage = () => {\n\n    return (\n    <div>\n      <UserData />\n      <LogoutButton />\n      <PetsData />\n    </div>\n  );\n};\n\nexport default UserPage;"],"names":["AvatarInput","styled","AvatarLabel","p","theme","color","navBarText","AvatarImage","dispatch","useDispatch","avatarURL","useSelector","getUserAvatarURL","useUpdateUserAvatarMutation","updateUserAvatar","handleAvatarChange","event","file","target","files","unwrap","newAvatarURL","setAvatarURL","console","log","src","alt","htmlFor","name","id","type","accept","onChange","e","initialValues","value","useState","disabled","setDisabled","useUpdateUserMutation","updateUser","handleSubmit","values","user","setUpdatedUser","onSubmit","onClick","token","getToken","useGetUserQuery","data","isLoading","useEffect","setUser","currentuser","getUser","email","birthday","city","phone","useLogOutMutation","logout","setLogoutUser"],"sourceRoot":""}